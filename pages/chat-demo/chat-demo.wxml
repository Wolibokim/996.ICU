<!--chat-demo.wxml-->
<view class="container">
  <!-- 操作按钮区域 -->
  <view class="controls">
    <button class="control-btn" bindtap="renderChat" type="primary" size="mini">渲染聊天界面</button>
    <button class="control-btn" bindtap="saveImage" type="default" size="mini">保存图片</button>
    <button class="control-btn" bindtap="addMessage" type="default" size="mini">添加消息</button>
  </view>
  
  <!-- Canvas组件 -->
  <view class="canvas-container">
    <wxml-to-canvas class="widget" width="{{canvasWidth}}" height="{{canvasHeight}}"></wxml-to-canvas>
  </view>
  
  <!-- 预览图片 -->
  <view wx:if="{{previewImageSrc}}" class="preview-container">
    <text class="preview-title">生成的聊天记录图片：</text>
    <image 
      class="preview-image" 
      src="{{previewImageSrc}}" 
      mode="widthFix"
      style="width: {{previewWidth}}px;"
    ></image>
  </view>
  
  <!-- 消息输入区域 -->
  <view class="input-area">
    <input 
      class="message-input" 
      placeholder="输入消息..." 
      value="{{inputMessage}}"
      bindinput="onMessageInput"
    />
    <button class="send-btn" bindtap="sendMessage" size="mini">发送</button>
  </view>
  
  <!-- 预设消息按钮 -->
  <view class="preset-messages">
    <button 
      wx:for="{{presetMessages}}" 
      wx:key="*this"
      class="preset-btn" 
      bindtap="sendPresetMessage" 
      data-message="{{item}}"
      size="mini"
    >
      {{item}}
    </button>
  </view>
</view>